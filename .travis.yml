  language:
    - cpp

os:
    - osx

compiler:
    - gcc


before_install:
 - brew update
 - brew outdated gcc-arm-none-eabi || brew upgrade gcc-arm-none-eabi

- git clone https://github.com/psxdev/psp2sdk_travisosx.git src/html -qb gh-pages --single-branch
 - git -C src/html rm -qrf .

script:
 - export REV=dirty-$(git describe --always)

 - cd src
 - ./autogen.sh $FLAGS
 - doxygen
 - make install
 - cd ..

 - cd tools
 - ./autogen.sh $FLAGS
 - make install
 - make clean
 - cd ../out
 - ls -l

env:
 global:
  - FLAGS="-q --prefix=$PWD/out"



